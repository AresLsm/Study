# 코틀린이란 무엇이며, 왜 필요할까?

## 정적 타입 언어

- Kotlin은 Java와 같이 모든 프로그램 구성 요소들의 타입을 컴파일타임에 알 수 있는  
  **정적 타입(Static Type)** 언어이다. 이는 곧 프로그램 내에서 객체의 필드나 메소드를  
  사용할 때 컴파일러가 타입을 검증해준다는 뜻이다.

- Kotlin에서는 컴파일러가 문맥을 고려해 변수의 타입을 결정한다.  
  이를 **타입 추론(Type Inference)** 이라 하는데, 정적 타입 지정의 장점은 아래와 같다.

  - **성능** : 실행 시점에 어떤 메소드를 호출할지 알아내는 과정이 없으므로 메소드 호출이 더 빠르다.
  - **신뢰성** : 컴파일러가 프로그램의 정확성을 검증하기 때문이 실행 시 프로그램이 오류로  
    중단될 가능성이 더 적다.
  - **유지 보수성** : 코드에서 다루는 객체가 어떤 타입에 속하는지 알 수 있기에 처음 보는 코드를  
    다룰 때도 더 쉽다.
  - **도구 지원** : 정적 타입 지정을 활용하면 더 안전하게 리팩토링할 수 있고, 도구도 더 정확한  
    코드 완성 기능 등을 지원할 수 있다.

<hr/>

## 함수형 프로그래밍과 객체지향 프로그래밍

- Kotlin의 타입 시스템에서는 **함수 타입(Function Type)** 을 지원한다.  
  함수 타입이 어떤 개념이며 Kotlin이 함수형 프로그래밍을 어떻게 지원하는지에 대해 알아보자.

- 함수형 프로그래밍의 핵심 개념들은 아래와 같다.

  - **일급 시민(First-Class) 함수** : 함수를 일반 값처럼 다룰 수 있다. 함수를 변수에 저장할 수도  
    있으며 함수에서 새로운 함수를 만들어 반환할 수도 있다.

  - **불변성(Immutability)** : 함수형 프로그래밍에서는 한 번 만들어지고 나면 내부 상태가 절대로  
    바뀌지 않는 불변 객체를 사용해 프로그램을 작성한다.

  - **부수 효과(Side Effect) 없음** : 함수형 프로그래밍에서는 입력이 같으면 항상 같은 출력을  
    내놓으며 다른 객체의 상태를 변경하지 않으며, 함수 외부나 다른 바깥 환경과 상호작용하지 않는  
    순수 함수(Pure-Function)를 사용한다.

- 이런 핵심 개념들을 사용하는 함수형 스타일로 프로그램을 작성하면 아래와 같은 이점들이 있다.

### 간결성

- 함수형으로 작성된 코드는 같은 동작을 하는 명령형(Imperative) 코드에 비해 더 간결하며 우아하다.  
  순수 함수를 값처럼 활용할 수 있으면 더 강력한 추상화를 할 수 있으며 강력한 추상화를 사용해  
  코드 중복 또한 막을 수 있다.

### 다중 스레드의 안전성(Thread Safety)

- 다중 스레드 프로그램에서는 적절한 동기화 없이 같은 데이터를 여러 스레드가 변경하는 경우 가장 많은 문제가 생긴다.  
  불변 데이터 구조를 사용하고, 순수 함수를 그 데이터 구조에 적용한다면 다중 스레드 환경에서 같은 데이터를 여러  
  스레드가 변경할 수 없다. 따라서 복잡한 동기화를 적용하지 않아도 스레드 안전성을 가진다.

### 테스트 용이성

- 부수 효과가 있는 함수는 그 함수를 실행할 때 필요한 전체 환경을 구성하는 준비 코드(Setup Code)가 따로  
  필요하지만, 순수 함수는 그런 준비 코드 없이 독립적으로 테스트할 수 있다.

- Kotlin이 함수형 프로그래밍을 위해 지원하는 부분들은 아래와 같다.

  - 함수 타입을 지원함에 따라 어떤 함수가 다른 함수를 파라미터로 받거나 함수가 새로운 함수를 반환할 수 있다.
  - 람다식을 지원함에 따라 번거로운 준비 코드를 작성하지 않아도 코드 블록을 쉽게 정의하고 전달할 수 있다.
  - 데이터 클래스는 불변적인 값 객체(Value Object)를 간편하게 만들 수 있는 구문을 제공한다.
  - Kotlin 표준 라이브러리는 객체와 컬렉션을 함수형 스타일로 다루는 API를 제공한다.

<hr/>

## Kotlin의 철학

- Kotlin이 _Java와의 상호운용성에 초점을 맞춘 실용적이고 간결하며 안전한 언어_ 라 자주 설명한다.  
  실용성, 간결성, 안전성, 상호운용성을 각각 살펴보자.

### 실용성

- Kotlin은 실제 문제를 해결하기 위해 만들어진 실용적인 언어다.  
  다른 프로그래밍 언어가 채택한 이미 성공적으로 검증된 해법과 기능에 의존하기 때문에 언어의 복잡도도 적고  
  이미 알고 있는 기존 개념을 적용해 쉽게 배울 수 있다. 또한 특정 프로그래밍 스타일이나 패러다임을 사용할 것을  
  강제로 요구하지 않기에 각 상태에 맞게 선택해 프로그램을 작성할 수 있다.  
  또한 IDE가 지원하는 기능들 등의 도구에 대한 지원이 엄청나다.

### 간결성

- Kotlin은 프로그래머가 작성하던 기존의 코드에서 의미가 없는 부분을 줄이고, 언어가 요구하는 구조를 만족시키기 위해  
  별 뜻은 없지만 프로그램에 꼭 넣어야 하는 부수적인 요소를 줄이기 위한 기능을 제공한다. 예를 들어 Getter,  
  Setter, 생성자 파라미터 필드 등 Java에 존재하는 여러 가지 번거로운 코드를 Kotlin은 묵시적으로 제공하기에  
  Kotlin 코드는 준비 코드로 인해 지저분해지는 일이 없다.

- 컬렉션에서 원소를 찾는 등의 일반적인 작업을 수행하기 위해서 Java에서는 명시적으로 작성해야만 하는 코드량이 상당하다.  
  다른 최신 언어와 마찬가지로 Kotlin은 다양한 기능을 가진 표준 라이브러리를 제공하기 때문에 이런 반복되거나  
  길어질 수 있는 코드를 라이브러리 함수 호출로 대치할 수 있다. 또한 람다식을 지원하기 때문에 작은 코드 블록을  
  라이브러리 함수에 쉽게 전달할 수 있다. 따라서 일반적인 기능을 라이브러리 안에 캡슐화하고, 작업에 따라 달라져야하는  
  내용을 사용자가 작성한 코드 안에 남겨둘 수 있다.

- 이렇게 간결성은 개발자의 생산성을 향상시켜주고, 개발을 더 빠르게 할 수 있게 해준다.

### 안전성

- Kotlin은 정적 타입 언어로서 컴파일러의 타입 추론, Nullable한 타입을 지원함으로써 NPE의 발생 가능성 최소화를  
  할 수 있게 해준다.

- 추가적으로 `ClassCastException`을 방지해주는 `is` 연산자가 있다.  
  `is`는 타입 검사와 캐스트가 함께 진행된다. Java에서처럼 타입 검사 후 캐스팅해줄 필요가 없다.

### 상호운용성

- Java와 100% 호환된다.  
  심지어는 하나의 프로그램에 Java 소스 코드와 Kotlin 소스 코드가 함께 있어도 된다.

- 기존의 Java 라이브러리를 가능하면 최대한 활용하려 한다.  
  예를 들어 Kotlin에는 자체 컬렉션 라이브러리가 없으며, Java 표준 라이브러리 클래스에 의존한다.  
  다만 Kotlin에서 컬렉션을 더 쉽게 활용할 수 있게 몇 가지 기능을 더한다.

<hr/>
