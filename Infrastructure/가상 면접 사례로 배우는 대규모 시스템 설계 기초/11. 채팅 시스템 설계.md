# 채팅 시스템 설계

- 이번에는 채팅 시스템을 설계해보자.

## 문제 이해 및 설계 범위 확정

- 현재 시장에 나와있는 채팅 앱들을 보면 1:1 채팅에 집중하는 앱들이 있는가 하면 그룹 채팅에 중점을 둔 업무용 앱이나, 게임 채팅을 위해 대규모  
  그룹의 소통과 응답지연(latency)이 낮은 음성 채팅에 집중하는 앱 등이 있다.

- 따라서 채팅 시스템을 설계하기 전에, 요구 사항들을 명확히 해놔야 한다.

- 이번에 설계할 채팅 시스템의 요구사항은 아래와 같다.

  - 1:1, 그룹 채팅 모두 지원
  - 모바일 앱, 웹 앱 모두 지원
  - DAU: 5000만명
  - 그룹 채팅은 최대 100명까지 참가 가능
  - 1:1채팅, 그룹 채팅, 사용자 접속상태 표시를 지원해야 한다.
  - 텍스트 메시지만 주고 받을 수 있다.
    - 메시지 길이 제한: 100,000자 이하
  - 채팅 이력은 영원히 보관되어야 한다.
  - 이후 end-to-end encryption(종단 간 암호화)를 지원할 수 있어야 한다.

- 아래는 한 번 더 정리한 설계할 시스템의 주요 기능이다.

  - latency가 낮은 1:1 채팅 기능
  - 최대 100명까지 참여 가능한 그룹 채팅 기능
  - 사용자의 접속 상태 표시 기능
  - 다양한 단말 지원
    - 하나의 계정으로 여러 단말에 동시 접속 지원
  - 푸시 알림

---
