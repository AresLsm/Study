<h1>크로스 플랫폼 API 구현하기</h1>

<h2>Alert API를 이용한 크로스 플랫폼용 알림</h2>

* Alert API는 플랫폼의 경고창/dialog를 화면에 표시한다. alert 대화상자는 제목, 내용, 경고창/다이얼로그를 누르면 동작하는 메소드 등을   
  포함한다. 경고창은 Alert API의 `alert()` 메소드를 통해서 실행된다. `Alert.alert()`는 아래와 같이 4개의 인수를 사용한다.
```js
Alert.alert(title, message, buttons, options);
```
  * title : 문자열 | alert 버튼의 제목
  * message : 문자열 | alert 버튼의 내용
  * buttons : 배열 | 버튼으로 구성된 배열. 각 버튼은 두 개의 키(title(문자열), onPress(함수))를 갖는 객체이다.
  * options : 객체 | Boolean 값을 갖는 객체이다. (options: {cancelable: true})

<h3>Alert API의 활용 예</h3>

* alert는 웹과 모바일 디바이스에서 흔히 사용하는 UI 패턴이며, error 또는 success와 같은 App의 상태나 결과를 사용자에게 쉽게 알려줄 수   
  있는 방법이다. 다운로드가 끝났거나, 오류가 발생했거나, 로그인과 같은 비동기 작업이 끝났을 때 alert를 사용해 그 결과를 보여준다.

<h3>Alert API를 사용하는 예제</h3>

* `Alert.alert()`를 호출하고 메소드에 인수를 전달해서 alert를 화면에 표시한다. 아래 예시는 두 개의 옵션을 포함한 alert 대화 상자를   
  만든다. cancel을 누르면 대화 상자가 사라지며, Show Message를 누르면 메시지를 화면에 표시하도록 state를 갱신한다.
```js
import React, {Component} from 'react';
import {TouchableHighlight, View, Text, StyleSheet, Alert} from 'react-native';

let styles = {};

export default class App extends Component {

    constructor() {
        super();
        this.state = {
            showMessage: false
        }

        this.showAlert = this.showAlert.bind(this);
    }

    showAlert() {

        Alert.alert(
            // title을 Title, message를 Message! 로 정의한다.
            'Title',
            'Message!',
            [
                {
                    text: 'Cancel',
                    onPress: () => console.log('Cancel pressed.'),
                    style: 'destructive'
                },
                {
                    text: 'Show Message',
                    onPress: () => this.setState({showMessage: true})
                }
            ]
        )
    }

    render() {

        const {showMessage} = this.state;

        return (
            <View style={styles.container}>
                <TouchableHighlight onPress={this.showAlert} style={styles.button}>
                    <Text>SHOW ALERT</Text>
                </TouchableHighlight>
                {
                    // state의 showMessage가 true이면 메시지를 보여준다.
                    showMessage && <Text>Showing Message - Success!</Text>
                }
            </View>
        )
    }
}

styles = StyleSheet.create({
    // 생략
})
```
<hr/>

<h2>AppState API를 이용해서 현재 app 상태 확인</h2>

* AppState를 이용하면 현재 app이 활성화된 상태인지, 비활성화된 상태인지, 백그라운드 상태인지를 확인할 수 있다. App의 상태가   
  변경될 때마다 메소드를 호출해서 app의 상태에 따라 플랫폼의 특정 기능을 수행하거나 다른 메소드를 호출하게할 수 있다.

* AppState는 app의 상태가 변경될 때마다 호출되며, 'active', 'inactive', 'background' 중 하나를 반환한다. App의 상태가 변하면   
  이벤트가 발생하게 되고, 이를 이벤트 리스너를 통해서 메소드를 호출한다. AppState가 활용하는 이벤트는 change와 memorywarning이다.

<h3>AppState API의 활용 예시</h3>

* 실제 app 개발 시에 AppState API는 유용하게 사용된다. App이 foreground 상태가 됐을 때는 보통 최신 데이터를 가져와야 한다.   
  이러한 경우가 AppState API를 활용하는 좋은 예이다.

* AppState API를 사용하는 또 다른 예로는 인증(Authentication)이다. App이 foreground 상태ㅐ가 됐을 때, 화면의 잠금 상태를 풀기 위해   
  비밀번호 입력이나 지문 인식 등의 보안 단계를 추가할 수 있다.

* 주기적으로 DB에 접근해서 최신 데이터의 유무를 확인하는 경우, App이 background 상태에 있을 때는 폴링을 멈춰야 한다. 이 경우도   
  AppState API를 사용하면 된다.

<h3>AppState API를 사용하는 예시</h3>

* 아래 예제는 `componentDidMount()`에 change 이벤트를 감지하는 이벤트 리스너를 추가해서 app의 현재 상태를 콘솔에 출력한다.
```js
import React, {Component} from 'react';
import {AppState, View, Text, StyleSheet} from 'react-native';

class App extends Component {

    componentDidMount() {
        AppState.addEventListener('change', this.handleAppStateChange);
    }

    handleAppStateChange(currentAppState) {
        console.log('currentAppState : ', currentAppState);
    }

    render() {
        return (
            <View style={styles.container}>
                <Text>Testing AppState</Text>
            </View>
        )
    }
}

const styles = StyleSheet.create({
    // 생략
})
```
<hr/>