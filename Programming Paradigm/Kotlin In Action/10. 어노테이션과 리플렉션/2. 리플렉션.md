# 리플렉션: 실행 시점에 코틀린 객체 내부 관찰

- 간단히 말해 **리플렉션(reflection)** 은 실행 시점에 동적으로 객체의 프로퍼티와 메소드에 접근할 수 있게 해주는 방법이다.  
  보통 객체의 메소드나 프로퍼티에 접근할 때는 프로그램 소스코드 안에 구체적인 선언이 있는 메소드나 프로퍼티명을 사용하며, 컴파일러는 그런  
  이름이 실제로 가리키는 선언을 컴파일 시점에 정적으로 찾아내 해당하는 선언이 실재함을 보장한다. 하지만 타입과 관계없이 객체를 다뤄야 하거나  
  객체가 제공하는 메소드나 프로퍼티명을 오직 실행 시점에만 알 수 있는 경우가 있다. JSON 직렬화 라이브러리가 그런 경우다.  
  직렬화 라이브러리는 어떤 객체든 JSON으로 변환할 수 있어야 하고, 실행 시점이 되기 전까지는 라이브러리가 직렬화할 프로퍼티나 클래스에 대한  
  정보를 알 수 없다. 이런 경우 리플렉션을 사용해야 한다.

- 코틀린에서 리플렉션을 사용하려면 두 가지 서로 다른 리플렉션 API를 다뤄야 한다.  
  첫 번째는 Java가 `java.lang.reflect` 패키지를 통해 제공하는 표준 리플렉션이다. 코틀린 클래스는 일반 Java 바이트코드로 컴파일되므로  
  Java 리플렉션 API도 코틀린 클래스를 컴파일한 바이트코드를 완벽히 지원한다. 이는 리플렉션을 사용하는 Java 라이브러리와 코틀린 코드가  
  완전히 호환된다는 뜻이므로 특히 중요하다.

- 두 번째 API는 코틀린이 `kotlin.reflect` 패키지를 통해 제공하는 코틀린 리플렉션 API이다. 이 API는 Java에는 없는 프로퍼티나 nullable한  
  타입과 같은 코틀린 고유 개념에 대한 리플렉션을 제공한다. 하지만 현재 코틀린 리플렉션 API는 Java 리플렉션 API를 완전히 대체할 수 있는  
  복잡한 기능을 제공하지는 않는다. 따라서 경우에 따라 Java 리플렉션 API를 대안으로 사용해야 하는 경우가 생긴다.  
  또한 코틀린 리플렉션 API가 코틀린 클래스만 다룰 수 있는 것은 아니라는 점을 잘 알아둬야 한다. 코틀린 리플렉션 API를 사용해도 다른 JVM 언어에서  
  생성한 바이트코드를 충분히 다룰 수 있다.

---
