# 함수를 호출하기 쉽게 만들기

- 여러 원소로 이뤄진 컬렉션을 만드는 방법을 봤으므로, 간단하게 모든 원소를 찍어보자.  
  너무 단순할 수도 있지만, 이 과정에서 여러 가지 중요한 개념을 마주치게 된다.

- Java 컬렉션에는 기본적인 `toString()` 구현이 들어있다. 하지만 그렇게 기본적으로  
  구현된 `toString()`의 출력 형식은 고정되어 있고, 우리에게 실질적으로 필요한 형식이 아닐 수 있다.

```kt
val list = listOf(1, 2, 3)
println(list)
// [1, 2, 3]
```

- 기본 구현과 달리 `(1; 2; 3;)` 처럼 원소 사이를 세미콜론으로 구분하고, 괄호로 리스트를 둘러싸고  
  싶다면 어떻게 해야 할까? 이를 위해서 Java에서는 Guava나 Apache Commons와 같은 서드파티  
  라이브러리를 추가하거나, 직접 관련 로직을 구현해야 한다. 하지만 코틀린에는 이러한 요구 사항을  
  처리할 수 있는 함수가 표준 라이브러리에 이미 들어있다.

- 직접 그런 함수를 구현해보자. 처음에는 함수 선언을 간단하게 만들 수 있게 코틀린이 지원하는  
  여러 기능들을 사용하지 않고, 함수를 직접 구현한다. 그 후 좀 더 코틀린답게 같은 함수를 다시 구현해보자.

- 아래 코드의 `joinToString()` 함수는 컬렉션의 원소를 `StringBuilder`의 뒤에 덧붙인다.  
  이때 원소 사이에 구분자(seperator)를 추가하고, `StringBuilder`의 맨 앞과 맨 뒤에는  
  접두사(prefix)와 접미사(postfix)를 추가한다.

```kt
fun <T> joinToString(
    collection: Collection<T>,
    seperator: String,
    prefix: String,
    postfix: String
): String {
    val result = StringBuilder(prefix)

    for((index, element) in collection.withIndex()) {
	if(index > 0) result.append(seperator)
	result.append(element)
    }

    result.append(postfix)
    return result.toString()
}
```

- 위 함수는 제네릭(generic)이다. 즉, 이 함수는 어떤 타입의 값을 원소로 하는 컬렉션이든 모두  
  처리할 수 있다. 제네릭 함수의 문법은 Java와 비슷하다. 위 함수가 의도대로 작동하는지 검증해보자.

```kt
val list = listOf(1, 2, 3)
println(joinToString(list, "; ", "(", ")"))
// (1; 2; 3)
```

- 잘 작동한다. 이 함수를 그대로 써도 좋지만, 선언 부분을 좀 더 고민해봐야 한다.  
  어떻게 하면 이 함수를 호출하는 문장을 덜 번잡하게 만들 수 있을까? 함수를 호출할 때마다 매번 네 개의  
  인자를 모두 전달하지 않을 수는 없을까?

## 이름 붙인 인자

- 해결하고픈 첫 번째 문제는 함수 호출부의 가독성이다. 예를 들어, 아래와 같은 `joinToString()`의  
  호출을 살펴보자.

```kt
joinToString(collection, " ", " ", ".")
```

- 인자로 전달한 각 문자열이 어떤 역할을 하는지 구분할 수가 없다. 함수 시그니처를 살펴보지  
  않는 한 말이다. 이런 문제는 특히 boolean 플래그를 전달해야 하는 경우 많이 발생한다.  
  이를 해결하기 위해 일부 Java 코딩 스타일에서는 boolean 대신 enum 타입을 쓰라 권장한다.  
  일부 코딩 스타일에서는 아래처럼 파라미터명을 주석에 넣으라고 요구하기까지 한다.

```java
joinToString(collection, /* seperator */ " ", /* prefix */ " ", /* postfix */ ".")
```

- 코틀린에서는 아래처럼 더 잘 할 수 있다.

```kt
joinToString(collection, separator = " ", prefix = " ", postfix = ".")
```

- 코틀린으로 작성한 함수를 호출할 때는 함수에 전달하는 인자의 일부 또는 전부의 이름을 명시할 수 있다.  
  호출 시 인자 중 어느 하나라도 이름을 명시하고 나면, 혼동을 막기 위해 그 뒤에 오는 모든 인자는 이름을  
  꼭 명시해줘야 한다.

- 불행히도 Java로 작성한 코드를 호출할 때는 이름 붙인 인자를 사용할 수 없다.

- 이름 붙인 인자는 특히 바로 다음에 볼 디폴트 파라미터 값과 함께 사용할 때 쓸모가 많다.

<hr/>
