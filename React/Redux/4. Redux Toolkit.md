# Redux Toolkit

- Redux를 사용하여 JS Application의 상태 관리를 할 때, Boilerplate 코드 및 코드가 불필요하게  
  많이 필요하다는 개발자들의 의견에 의해 이를 해소하고자 나온 것이 `Redux Toolkit`이다.

- 패키지 : `@reduxjs/toolkit`

# createAction

```ts
const INCREMENT = "counter/increment";

const increment = (amount: number) => {
  return {
    type: INCREMENT,
    payload: amount,
  };
};

const action = increment(3);
```

- 위 코드는 action을 정의하는 매우 전형적인 코드이다.  
  위 코드를 `createAction()`을 통해 구현하면 아래와 같다.

```ts
const increment = createAction("counter/increment");
// 위에서 INCREMENT과 increment함수를 정의한 부분을 이 1줄로 교체

let action = increment();

action = increment(3);
```

- 기존에 작성했던 코드를 `createAction`을 사용해서 바꿔보자.

```ts
const INCREASE = "count/INCREASE" as const;
const DECREASE = "count/DECREASE" as const;
const CHANGE = "count/CHANGE" as const;

const increase = createAction(INCREASE);
const decrease = createAction(DECREASE);
const change = createAction<number>(CHANGE);

// const increase = () => ({ type: INCREASE });
// const decrease = () => ({ type: DECREASE });
// const change = (num: number) => ({ type: CHANGE, payload: num });

type CounterAction =
  | ReturnType<typeof increase>
  | ReturnType<typeof decrease>
  | ReturnType<typeof change>;

type CounterState = {
  count: number;
};

const initialState: CounterState = {
  count: 0,
};

const countModifier = (
  state: CounterState = initialState,
  action: CounterAction
) => {
  switch (action.type) {
    case INCREASE:
      return { count: state.count + 1 };
    case DECREASE:
      return { count: state.count - 1 };
    case CHANGE:
      return { count: action.payload };
    default:
      return state;
  }
};

const countStore = createStore(countModifier);
```

- 이렇게 한 상태로 `increase`와 `decrease`를 콘솔에 출력해보면 `increase`는 `count/INCREASE`,  
  , `decrease`는 `count/DECREASE`로, 둘다 타입이 함수(function)이다.

- 만약 `increase.type`를 찍어보면 타입은 string이 나온다.
- 또한 `increase()`, `decrease()`와 같이 콘솔에 호출한 값을 찍어보면  
  `{type: "count/INCREASE", payload: undefined}`가 나온다.
