<h1>React 이해하기</h1>

<h2>state를 사용해 컴포넌트 데이터 다루기</h2>

* React는 데이터를 만들고 다루는 방식 중 하나로 state를 사용한다. 컴포넌트의 state는 컴포넌트가 생성될 때 선언된다.   
  이 값은 `setState` 메소드로 인해 컴포넌트 내에서 갱신된다.

* 데이터를 다루는 또다른 방식으로는 속성(props)가 있다. 컴포넌트가 생성될 때 props는 매개변수로 전달되며,   
  state와 다르게 props는 컴포넌트 내에서 갱신되지 않는다.

* state는 컴포넌트가 다루는 값들의 집합체이다. React는 UI를 state를 다루는 기계로 본다. 컴포넌트가 `setState`메소드로   
  state를 변경하게 되면, React는 자동으로 `render`메소드를 호출하여 컴포넌트를 다시 렌더링한다. 만약 자식 컴포넌트가   
  props로 부모 컴포넌트의 state를 받아서 사용하게 된다면, 부모 컴포넌트의 state가 변경되어 자식 컴포넌트 역시 모두   
  다시 렌더링된다.

* 컴포넌트의 state는 컴포넌트로 하여금 동적이고 interactive하게 해준다. __state는 변경 가능하며__, __props는 변경 불가__ 하다.

* 컴포넌트의 state는 컴포넌트가 생성될 때 생성자 또는 속성 초기화를 이용하여 초기화된다. 한번 초기화된 state는   
  컴포넌트 내에서 `this.state.`를 통해 접근할 수 있다.
```js
import React from 'react';

class MyComponent extends React.Component {
    state = {
        year:2020,
        name:'sangwoo',
        colors:['blue']
    }

    render() {
        return (
            <View>
                <Text>My name is : {this.state.name}</Text>
                <Text>This year is : {this.state.year}</Text>
                <Text>My color is : {this.state.colors[0]}</Text>
            </View>
        )
    }
}
```

* 생성자는 JS 클래스 내에서 인스턴스를 만들 때 호출되는데, state를 이용할 때에는 아래처럼 사용한다.
```js
import React, {Component} from 'react';

class MyComponent extends Component {

    constructor() {
        super();
        this.state = {
            year:2020,
            name:'sangwoo',
            colors:['blue']
        }
    }

    render() {
        // 동일
    }
}

export default MyComponent;
```

* state의 갱신은 `this.setState()` 메소드의 호출을 통해서 가능하다. 호출할 때에는 새롭게 state로 사용하고자하는 객체를 전달한다.   
  `setState()`는 이전 state의 내용과 새로운 state의 내용을 병합하는데, 단순히 새로운 key+value로 이루어진 객체를 전달하면   
  기존의 state가 유지하던 내용들은 그대로 유지되며, 새로운 내용이 추가된다.

```js
import React, {Component} from 'react';

class MyComponent extends Component {
    constructor() {
        super();
        this.state = {
            year:2020
        }
    }

    updateYear() {
        this.setState({
            year:1000
        })
    }

    // onPress : 터치가 가능한 React Native Component에서 터치되면 호출되는 메소드
    render() {
        return (
            <View>
                <Text onPress={() => this.updateYear()}>
                The year is : {this.state.year}
                </Text>
            </View>
        )
    }
}
```

* `setState`가 호출될 때 마다 React는 `render`메소드를 다시 호출하여 컴포넌트와 자식 컴포넌트들 다시 렌더링한다.   
  컴포넌트의 state를 변경하는 자체가 컴포넌트를 다시 렌더링함을 의미하지 않으므로 UI 상의 변화는 일어나지 않는다.   
  __`setState`가 아닌 `this.state.XX = ?`로 변경하면, state는 갱신되지만 렌더링은 되지 않아 UI가 갱신되지 않는다__.   
  __`forceUpdate()`메소드를 사용하면 컴포넌트에서 `render()`메소드를 호출하게해 UI를 강제적으로 다시 렌더링하게 한다__.

* 아래처럼 다양한 데이터 타입으로 state를 지정하는 방식을 보자.
```js
class MyComponent extends Component {

    constructor() {
        super();
        this.state = {
            year:2020,
            leapYear:true,
            topics : ['H', 'I'],
            info : {
                paperback:true,
                length : '330 pages',
                type:'programming'
            }
        }
    }

    render() [
        let leapyear = <Text>This is not leapyear!</Text>
        if(this.state.leapYear) {
            leapyear = <Text>This is leapyear!</Text>
        }

        return (
            <View>
                <Text>{this.state.year}</Text>
                <Text>Length : {this.state.info.length}</Text>
                <Text>Type : {this.state.info.type}</Text>
                { leapyear }
            </View>
        )
    ]
}
```
<hr/>

<h2>props를 사용해 컴포넌트 데이터 다루기</h2>

