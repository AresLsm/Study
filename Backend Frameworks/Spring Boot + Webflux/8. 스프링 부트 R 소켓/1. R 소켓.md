# R Socket

## R Socket 개요

- 지금까지 배운 모든 것은 결국 현재 자원을 잘 활용해서 더 높은 확장성을 가진  
  Reactive Application을 만드는 방법이다. 그중에서도 배압(backpressure)은  
  **Reactive Stream**의 근간을 이루는 핵심 개념이며, 이를 통해 확장성 있는  
  애플리케이션을 만들 수 있다.

- 배압을 이해하고 나면 무언가를 조회하기 위해 네트워크 경계를 넘나들어야 하는데, 주로 HTTP를  
  기반으로 하는 원격 기술을 사용한다. OSA Layer 7에 위치하고 있는 HTTP는 이미 우리 이상에  
  깊숙이 스며들어서 HTTP가 없던 시절을 떠올리는 것조차 쉽지 않다.

> 배압(Backpressure): Resistance of force apposing the desired f**low of data through software**.

- 하지만 HTTP는 리액티브하지 않다. HTTP는 _'하나만 더 보내줘.'_, _'남은 것 다 보내줘.'_  
  와 같은 메시지를 표현할 수도, 이해할 수도 없다. HTTP는 요청-응답 패러다임에 뿌리를 두고 있다.  
  사람들은 HTTP를 통해 단순한 요청-응답을 넘어서 터널로 서로 연결하는 방법을 고민해 왔고,  
  그 첫번째 해답은 **클라이언트가 서버에게 요청을 보낸 후에 즉각적인 대답을 기대하지 않고,**  
  **오래 기다리더라도 언제든 서버가 데이터를 보낼 준비가 됐을 때 서버로부터 응답을 받으면**  
  **응답을 처리하고, 바로 새로운 요청을 서버에게 보내서 또 오래 기다리는 식**으로 연결 지속성을  
  확보하는 **롱 폴링(Long Polling)** 이다. Long Polling은 Comet이라 부르기도 한다.

- 이 방식은 기대한 대로 동작은 하지만 자원을 점유한다는 한계가 있었고, 이는 WebSocket의 등장을  
  앞당겼다. WebSocket도 OSI Layer 7에 위치하며, 2011년에 표준화된 최신 프로토콜이다.  
  WebSocket은 요청-응답 방식의 HTTP와는 다르게 양방향이다. WebSocket은 가볍고 양방향  
  비동기 통신을 지원하지만, 배압 개념이 없으므로 리액티브하지 않다.

- 앞서 본 것처럼 **API가 비동기 방식이라고 해서 전체 과정이 리액티브한 것은 아니다.**  
  그래서 진정한 해결책이 나오려면 새로운 프로토콜이 필요하다.  
  리액티브 스트림을 근간으로 하는 새로운 프로토콜, 바로 **RSocket**이다.
